<!doctype html>
<html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><title>Products - G Mart</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"></head><body class="bg-gray-50 text-gray-800"><header class="bg-green-700 text-white p-4"><div class="container mx-auto flex justify-between items-center"><h1 class="text-2xl">G Mart</h1><nav><a href="/index.html" class="mr-4">Home</a><a href="/admin.html">Admin</a></nav></div></header><main class="container mx-auto py-8"><h2 class="text-3xl font-bold mb-4">Products</h2><div id="products" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6"></div></main><script>async function load(){try{const res=await fetch('/api/products');const data=await res.json();const container=document.getElementById('products');data.forEach(p=>{const card=document.createElement('div');card.className='bg-white p-4 rounded shadow';card.innerHTML=`<div class="h-40 bg-gray-100 flex items-center justify-center mb-3">Image</div><h3 class="font-semibold">${p.name}</h3><p class="text-sm text-gray-600">${p.description||''}</p><div class="flex items-center justify-between mt-3"><div class="text-green-700 font-bold">$${(p.price/100).toFixed(2)}</div><div><button onclick="addToCart('${p._id}')" class="bg-green-700 text-white px-3 py-1 rounded">Add</button><a href="/product.html?id=${p._id}" class="ml-2 text-sm">Details</a></div></div>`;container.appendChild(card);});}catch(e){console.error(e);} }function addToCart(id){const cart=JSON.parse(localStorage.getItem('gcart')||'[]');const found=cart.find(i=>i.id===id);if(found) found.qty++; else cart.push({id,qty:1});localStorage.setItem('gcart',JSON.stringify(cart));alert('Added to cart');}load();</script></body></html>