<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><title>Login - G Mart</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"></head><body class="bg-gray-50 text-gray-800"><header class="bg-green-700 text-white p-4"><div class="container mx-auto"><a href="/index.html">Home</a></div></header><main class="container mx-auto py-8"><h2 class="text-2xl font-bold mb-4">Login / Register</h2><div class="grid md:grid-cols-2 gap-6"><div class="bg-white p-4 rounded shadow"><h3 class="font-semibold mb-2">Login</h3><input id="loginEmail" placeholder="Email" class="w-full p-2 mb-2"/><input id="loginPass" placeholder="Password" type="password" class="w-full p-2 mb-2"/><button onclick="login()" class="bg-green-700 text-white px-4 py-2 rounded">Login</button></div><div class="bg-white p-4 rounded shadow"><h3 class="font-semibold mb-2">Register</h3><input id="regName" placeholder="Name" class="w-full p-2 mb-2"/><input id="regEmail" placeholder="Email" class="w-full p-2 mb-2"/><input id="regPass" placeholder="Password" type="password" class="w-full p-2 mb-2"/><button onclick="register()" class="bg-blue-600 text-white px-4 py-2 rounded">Register</button></div></div></main><script>async function register(){const name=document.getElementById('regName').value;const email=document.getElementById('regEmail').value;const password=document.getElementById('regPass').value;const res=await fetch('/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,email,password})});const data=await res.json();if(res.ok){alert('Registered, please login');}else alert(data.error||'Error');}async function login(){const email=document.getElementById('loginEmail').value;const password=document.getElementById('loginPass').value;const res=await fetch('/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await res.json();if(res.ok){localStorage.setItem('token',data.token);alert('Logged in');location.href='/';}else alert(data.error||'Login failed');}</script></body></html>